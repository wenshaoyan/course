<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <!--<script src="https://cdn.bootcss.com/vue/2.4.2/vue.min.js"></script>-->
  <script src="./vue.js"></script>
</head>
<body>

<div id="example">
  <my-component></my-component>
  <table>
    <tr is="my-component"></tr>
  </table>

  <simple-counter></simple-counter>
  <simple-counter></simple-counter>
  <simple-counter></simple-counter>
  <child message="hello!" my-message="world"></child>
  <input v-model="parentMsg">
  <br>
  <child v-bind:my-message="parentMsg"></child>
  <child v-bind="todo"></child>
  <br>
  <p>{{ total }}</p>
  <button-counter v-on:increment="incrementTotal"></button-counter>
  <button-counter v-on:increment="incrementTotal"></button-counter>
</div>
</body>
<script>
  const d = {counter: 0};
  const vm = new Vue({
    el: '#example',
    data: {
      parentMsg: '1',
      todo: {
        message: 'Learn Vue',
        myMessage: '11'
      },
      total: 0
    },
    methods:{
      incrementTotal: function () {
        this.total += 1
      }
    },
    components: {
      // <my-component> 将只在父组件模板中可用
      'my-component': {
        template: '<div>A custom component!</div>'
      },
      'simple-counter': {
        template: '<button v-on:click="counter += 1">{{ counter }}</button>',
        data: function () {
          return d;
        }

      },
      'child': {
        // 声明 props
        props: ['message', 'myMessage'],
        // 就像 data 一样，prop 也可以在模板中使用
        // 同样也可以在 vm 实例中通过 this.message 来使用
        template: '<span>{{ message }},{{myMessage}}</span>'
      },
      'yanzheng': {
        template: '<span>{{ propA }},{{propB}}</span>',
        props: {
          // 基础类型检测 (`null` 指允许任何类型)
          propA: Number,
          // 可能是多种类型
          propB: [String, Number],
          // 必传且是字符串
          propC: {
            type: String,
            required: true
          },
          // 数值且有默认值
          propD: {
            type: Number,
            default: 100
          },
          // 数组/对象的默认值应当由一个工厂函数返回
          propE: {
            type: Object,
            default: function () {
              return {message: 'hello'}
            }
          },
          // 自定义验证函数
          propF: {
            validator: function (value) {
              return value > 10
            }
          }
        }
      },
      'button-counter': {
        template: '<button v-on:click="incrementCounter">{{ counter }}</button>',
        data: function () {
          return {
            counter: 0
          }
        },
        methods: {
          incrementCounter: function () {
            this.counter += 1
            this.$emit('increment')
          }
        },
      }

    }
  })

</script>
</body>
</html>
